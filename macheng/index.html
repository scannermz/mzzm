<!DOCTYPE html>
<html>
<head>
    <title>马建波&陈春容婚礼邀请 2019年6月22日</title>
    <link rel="shortcut icon" href="" type="images/x-iconadd"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="keywords" content="结婚请柬"/>
    <meta name="description" content="马建波&陈春容诚邀您参加婚礼"/>
    <meta name="viewport" content="width=640,target-densitydpi=device-dpi,user-scalable=no">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/mian.css">
</head>
<body>
<audio id="audio" src="images/bgMusic.mp3" loop="loop" autoplay="autoplay"></audio>
<div class="progressBar" style="position: absolute;left:45%;top:40%;z-index: 1000; display: block;">
    <img class="progressBarSpan" src="images/loading.gif" alt="" style="width: 32%;">
</div>
<div class="total" style="width:100%;height:100%;display: none">
    <i id="audioClick" class="iconfont icon-yinle1" style="display: block"></i>
    <i id="audioClick2" class="iconfont icon-yinlezanting" style="display: none"></i>
    <div class="container">
        <div id="showStar"></div>
        <img class="arrow" src="images/arrow.png" alt="">
        <img class="slide-bg" src="images/background.jpg" alt="" style="z-index:10">
        <div class="swiper-container swiper-container-v" style="overflow: hidden;z-index: 100">
            <div class="swiper-wrapper">
                <div class="swiper-slide-v swiper-slide slide-1">
                    <img class="slide-bg" src="images/background.jpg" alt="">
                    <div class="slide-page">
                        <img id="slide-sign" src="images/love01.png" alt="">
                        <!--<img id="slide-sign" src="images/sign.png" alt="">-->
                        <img id="slide-text" src="images/text.png" alt="">
                        <div id="showBlueMeteor"></div>
                        <div class="snow snow1"></div>
                        <div class="snow snow2"></div>
                        <div class="snow snow3"></div>
                        <div class="snow snow4"></div>
                        <div class="snow snow5"></div>
                        <div class="snow snow6"></div>
                        <div class="snow snow7"></div>
                        <div class="snow snow8"></div>
                        <div class="snow snow9"></div>
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-2">
                    <img id="show7" src="images/mc.png" alt="">
                    <!--<img id="show7Bg" src="images/c.jpg" alt="">-->
                </div>
                <div class="swiper-slide-v swiper-slide slide-3">
                    <div class="pageMeet">
                        <img id="show4_1" src="images/love03.png" alt="">
                        <img id="show9_1" src="images/love04.png" alt="">
                        <img id="meet" src="images/meet.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-4">
                    <div class="pageMeet">
                        <img id="show5" src="images/love05.png" alt="">
                        <img id="acquain" src="images/acquain.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-5">
                    <div class="pageMeet">
                        <img id="show6_1" src="images/love06.png" alt="">
                        <img id="show6_2" src="images/love07.png" alt="">
                        <img id="textXz" src="images/textXz.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-6">
                    <div class="pageMeet">
                        <img class="slide-bg" src="images/background.jpg" alt="">
                        <img id="rotateIn" class="rotateIn" src="images/rotateIn.png" alt="">
                        <img id="rotateOut" class="rotateOut" src="images/rotateOut.png" alt="">
                        <img id="page1-show1" class="page-show" src="images/love08.png" alt="">
                        <img id="page1-show2" class="page-show" src="images/love09.png" alt="">
                        <img id="page1-show3" class="page-show" src="images/love10.png" alt="">
                        <i class="iconfont icon-zuoyoujiantou"></i>
                        <i class="iconfont icon-zuoyoujiantou1"></i>
                        <div class="swiper-container swiper-container-h">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide page1">
                                    <img class="page11-show page11-show1" src="images/love11.png" alt="">
                                </div>
                                <div class="swiper-slide page2">
                                    <img class="page11-show" src="images/love12-1.png" alt="">
                                </div>
                                <div class="swiper-slide page3">
                                    <img class="page11-show" src="images/love12.png" alt="">
                                </div>
                                <div class="swiper-slide page5">
                                    <img class="page11-show" src="images/love13.png" alt="">
                                </div>
                            </div>
                            <div class="swiper-pagination swiper-pagination-v"></div>
                        </div>
                        <img id="textXa" src="images/textXa.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-7">
                    <div class="pageMeet">
                        <img id="show8" src="images/love14.png" alt="">
                        <img id="textTogether" src="images/together.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-8">
                    <div class="pageMeet">
                        <img id="show4_2" src="images/love15.png" alt="">
                        <img id="show9_2" src="images/love16.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-9">
                    <div class="pageMeet">
                        <img id="show10" src="images/love17.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-10">
                    <div class="pageMeet">
                        <img id="show11_1" src="images/c.png" alt="">
                        <img id="show11_2" src="images/love19.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-11">
                    <div class="pageMeet">
                        <img id="show12" src="images/love20.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-12">
                    <div class="pageMeet">
                        <img id="show13" src="images/love21.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-13">
                    <div class="pageMeet">
                        <img id="show14" src="images/love22.png" alt="">
                    </div>
                </div>
                <div class="swiper-slide-v swiper-slide slide-14">
                    <div class="pageMeet">
                       <img class="slide-8-bg" src="images/w.jpg" alt="">
                       <!-- <img id="thumbnailMap" src="images/l.png" alt="map">-->
                        <!--<img class="slide-8-bg" src="slide-14-bg.png" alt=""> -->
                        <!--<img class="textLz" src="images/1.png" alt="">
                       -->
                       <div class="textLz">
                       		<h1 style="text-align: center; color: #BF7BB5;font-size: 120%;">男方：马建波       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;女方：陈春容 </h1>
                       </div>
                       <!-- <img class="textLz" src="1.png" alt="">-->-->
                        <!--<span class="textAddressMan">男方: 马建波</span>
                        <span class="textAddressWoman">女方: 陈春容</span>
                        <span class="textTimeWoman">2019/06/22</span>-->
                        <span class="textAddressMan">
                        	地点：  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;黄水镇明月戴斯酒店  
                        </span>
                        <span class="textAddressWoman">
                        	时间： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2019年 &nbsp;6月 &nbsp;22日  
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="js/swiper.min.js"></script>
<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
    var audio = document.getElementById("audio");
    var audioClick = document.getElementById("audioClick");
    var audioClick2 = document.getElementById("audioClick2");
    var total = document.getElementsByClassName("total")[0];
    var sign1 = true
    var swiperV = new Swiper('.swiper-container-v', {
        direction: 'vertical',
        initialSlide: 0,
        speed: 800,
        observer: true,
        observeParents: true,
        followFinger: false,
        longSwipesRatio: 0.1,
        on: {
            touchMove: function (x) {
            },
            touchEnd: function () {

            },
            slideChangeTransitionStart: function () {
                console.log(this.activeIndex)
                if (this.activeIndex == 0) {
                    $("#slide-sign").addClass("slide-sign")
                    $("#slide-text").addClass("slide-text")
                } else {
                    $("#slide-sign").removeClass("slide-sign")
                    $("#slide-text").removeClass("slide-text")
                }
                if (this.activeIndex == 1) {
                    setTimeout(function () {
                        $("#slide-sign").removeClass("slide-sign")
                        $("#slide-text").removeClass("slide-text")
                        $("#show7Bg").addClass("show7Bg")
                        $("#show7").addClass("show7")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show7Bg").removeClass("show7Bg")
                        $("#show7").removeClass("show7")
                    }, 800)
                }
                if (this.activeIndex == 2) {
                    setTimeout(function () {
                        $("#meet").addClass("meet")
                        $("#show4_1").addClass("show4_1")
                        $("#show9_1").addClass("show4_1")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#meet").removeClass("meet")
                        $("#show4_1").removeClass("show4_1")
                        $("#show9_1").removeClass("show4_1")
                    }, 800)
                }
                if (this.activeIndex == 3) {
                    setTimeout(function () {
                        $("#acquain").addClass("meet")
                        $("#show5").addClass("show4")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#acquain").removeClass("meet")
                        $("#show5").removeClass("show4")
                    }, 800)
                }
                if (this.activeIndex == 4) {
                    setTimeout(function () {
                        $("#textXz").addClass("textXz")
                        $("#show6_1").addClass("show6_1")
                        $("#show6_2").addClass("show6_2")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#textXz").removeClass("textXz")
                        $("#show6_1").removeClass("show6_1")
                        $("#show6_2").removeClass("show6_2")
                    }, 800)
                }
                if (this.activeIndex == 5) {
                    setTimeout(function () {
                        $("#textXa").addClass("textXa")
                        $("#page1-show1").addClass("page1-show1")
                        $("#page1-show2").addClass("page1-show2")
                        $("#page1-show3").addClass("page1-show3")
                    }, 200)

                } else {
                    setTimeout(function () {
                        $("#textXa").removeClass("textXa")
                        $("#page1-show1").removeClass("page1-show1")
                        $("#page1-show2").removeClass("page1-show2")
                        $("#page1-show3").removeClass("page1-show3")
                    }, 800)
                }
                if (this.activeIndex == 6) {
                    setTimeout(function () {
                        $("#show8").addClass("show4")
                        $("#textTogether").addClass("textTogether")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show8").removeClass("show4")
                        $("#textTogether").removeClass("textTogether")
                    }, 800)
                }
                if (this.activeIndex == 7) {
                    setTimeout(function () {
                        $("#show4_2").addClass("show4_1")
                        $("#show9_2").addClass("show4_1")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show4_2").removeClass("show4_1")
                        $("#show9_2").removeClass("show4_1")
                    }, 800)
                }
                if (this.activeIndex == 8) {
                    setTimeout(function () {
                        $("#show10").addClass("show4")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show10").removeClass("show4")
                    }, 800)
                }
                if (this.activeIndex == 9) {
                    setTimeout(function () {
                        $("#show11_1").addClass("show11_1")
                        $("#show11_2").addClass("show11_2")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show11_1").removeClass("show11_1")
                        $("#show11_2").removeClass("show11_2")
                    }, 800)
                }
                if (this.activeIndex == 10) {
                    setTimeout(function () {
                        $("#show12").addClass("show4")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show12").removeClass("show4")
                    }, 800)
                }
                if (this.activeIndex == 11) {
                    setTimeout(function () {
                        $("#show13").addClass("show13")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show13").removeClass("show13")
                    }, 800)
                }
                if (this.activeIndex == 12) {
                    setTimeout(function () {
                        $("#show14").addClass("show4")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#show14").removeClass("show4")
                    }, 800)
                }
                if (this.activeIndex == 13) {
                    setTimeout(function () {
                        $("#thumbnailMap").addClass("thumbnailMap")
                    }, 800)
                } else {
                    setTimeout(function () {
                        $("#thumbnailMap").removeClass("thumbnailMap")
                    }, 800)
                }
            },
            slideChangeTransitionEnd: function () {

            }
        }
    })
    var swiperH = new Swiper('.swiper-container-h', {
        direction: 'horizontal',
        observer: true,
        observeParents: true,
        followFinger: false,
        on: {
            slideChangeTransitionStart: function () {
            }
        }
    });
    var screenWidth = window.screen.width;
    var showStar1 = document.getElementById("showStar")
    var showBlueMeteor1 = document.getElementById("showBlueMeteor")
    var thumbnailMap = document.getElementById("thumbnailMap")
    var createStarNum = 0
    var signNum = 3
    var u = navigator.userAgent;
    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
    var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
    var iosStar = 1;
    //星星散落动画
    function createStar() {
        var star = document.createElement("img");
        var radomTime = Math.round(Math.random() * 8 + 3)
        star.className = "slide-" + createStarNum + "-wstar" + signNum
        star.src = "images/wstar" + signNum + ".png"
        star.style.position = 'absolute'
        star.style.top = "0px"
        star.style.left = "0px"
        star.style.width = "34px"
        star.style.zIndex = 9999
//        star.style.webkitTransform = "translate("+ Math.floor(Math.random()*screenWidth)+"px,-52px)"
        createStarNum++
        signNum--
        signNum == 0 && (signNum = 5, signNum--)
        showStar1.appendChild(star)
        star.style.webkitAnimationDuration = radomTime + "s"
    }
    function createBlueMeteor() {
        var blueMeteor = document.createElement("img")
        blueMeteor.src = "images/blueMeteor.png"
        blueMeteor.style.position = "absolute"
        blueMeteor.style.width = "50%"
        blueMeteor.style.left = Math.round(Math.random() * screenWidth - 50) + "px"
        blueMeteor.style.top = Math.round(Math.random() * -100) + "px"
        blueMeteor.style.webkitAnimationDelay = "2s"
        blueMeteor.style.webkitAnimation = "roseMeteor 1.5s linear infinite"
        showBlueMeteor1.appendChild(blueMeteor)
        blueMeteor.zIndex = 100
    }
    function showStar() {
        var satrNum = 1
        createStar()
        var starInterval = setInterval(function () {
            createStar()
            satrNum++
            if (satrNum >= 15) {
                clearInterval(starInterval)
            }
        }, 500)
    }
    showStar()
    function showBlueMeteor() {
        createBlueMeteor()
        var meteorNum = 1
        var meteorInterval = setInterval(function () {
            createBlueMeteor()
            meteorNum++
            if (meteorNum >= 10) {
                clearInterval(meteorInterval)
            }
        }, 500)
    }

//  thumbnailMap.addEventListener("click", function () {
//      window.location.innerHTML="谢谢观看！！！"
//  })

    audioClick.addEventListener("click", function () {
        audio.pause()
        audioClick2.style.display = "block"
        audioClick.style.display = "none"
    })
    audioClick2.addEventListener("click", function () {
        audio.play()
        audioClick.style.display = "block"
        audioClick2.style.display = "none"
    })
    window.addEventListener("touchstart", function () {
        if (isiOS && iosStar == 1) {
            iosStar--
            audio.load()
            audio.play()
        }
    }, false)
    //加载
//  var imgArr = ["acquain.png", "background.jpg", "blueMeteor.png", "meet.png", "meetbg.png", "meteor.png",
//      "rotateIn.png", "rotateOut.png", "sign.png", "slide-14-bg.png", "slide-8-text-1.png", "slide-9-bg.png", "slide-9-text1.png",
//      "text.png", "textXa.png", "textXz.png", "thumbnailMap.png", "show1.jpg", "show2.jpg", "show3.jpg", "show4-1.jpg", "show4-2.jpg", "show5.jpg", "show6-1.jpg", "show6-1.jpg", "show7.jpg", "show8.jpg"
//      , "show9-1.jpg", "show9-2.jpg", "show10.jpg", "show11-1.jpg", "show11-2.jpg", "show12.jpg", "show13.jpg", "show14.jpg"];
 var imgArr = ["acquain.png", "background.jpg", "blueMeteor.png", "meet.png", "meetbg.png", "meteor.png",
        "rotateIn.png", "rotateOut.png", "sign.png", "slide-14-bg.png", "slide-8-text-1.png", "slide-9-bg.png", "slide-9-text1.png",
        "text.png", "textXa.png", "textXz.png", "thumbnailMap.png", "love01.png", "love02.png", "love03.png", "love04.png", "love05.png", "love06.png", "love07.png", "love08.png"
        , "love09.png", "love10.png", "love11.png", "love12.png", "love13.png", "love14.png", "love15.png", "love16.png"];
    var progressBarSpan = document.getElementsByClassName("progressBarSpan")[0];
    var imgArrLength = imgArr.length;
    var i = 0;
    var iLoaded = 0;
    var aImg = [];
    for (i = 0; i < imgArrLength; i++) {
        (function (i) {
            var oNewImg = new Image();
            oNewImg.onload = function () {
                oNewImg.onload = null;
                var oImg = document.createElement('img');
                oImg.src = this.src;
                oImg.style.display = 'block';
                document.body.appendChild(oImg);
                aImg[i] = oImg;
                iLoaded++
                //console.log(iLoaded / imgArrLength)
                if (iLoaded >= imgArrLength) {
                    progressBarSpan.style.display = "none";
                    total.style.display = "block";
                    audio.play()
                    showBlueMeteor()
                    $("#slide-sign").addClass("slide-sign")
                    $("#slide-text").addClass("slide-text")
                    document.body.removeChild(oImg);
                }
            };
            oNewImg.src = 'images/' + imgArr[i];

        })(i);
    }
    function isAndroidGalaxy() {
        return (screen.width / screen.height < 0.44)
    }

    function isIphoneX() {
        return (screen.width / screen.height > 0.44 && screen.width / screen.height < 0.47);
        //(screen.height == 812 && screen.width == 375)
    }

    function isAndroidMix2() {
        return (screen.width / screen.height >= 0.5 && screen.width / screen.height < 0.55)
    }
    if(isAndroidGalaxy() || isIphoneX() || isAndroidMix2()){
        $("#show7").css("top","3%")
        $("#show7Bg").css("top","3%")
        $("#show5").css("top","0%")
        $(".page-show").css("top","12%")
    }
</script>

</html>